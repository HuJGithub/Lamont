import os
os.environ["CUDA_VISIBLE_DEVICES"] = "1"
method_list = [
    # "pearson",
    # "spearman",
    # "kendall",
    # "chisquare",
    # "mutual_information",
    # "fisher_score",
    "dstar",
    "ochiai",
    "barinel",
    #"ER1",
    #"ER5",
    # "GP02",
    # "GP03",
    # "GP19",
    # "Op2",
    "MLP-FL",
    "CNN-FL",
    "RNN-FL"
]

program_list = [
    #"Chart",
    #"Closure",
    #"Lang",
    #"Math",
    "Mockito",
    #"Time",

]
method_para = ""
for method in method_list[:-1]:
    method_para += method + ","
method_para += method_list[-1]


program_version_num_list = [
    #1,
    #26,
    #133,
    #65,
    #106,
    38,
    #27
    ]

for program, program_version_num in zip(program_list, program_version_num_list):
    for i in range(1, program_version_num+1):
        if (program == "Mockito" and (i == 19 or i==38)) or (program == "Chart" and i == 10) or (
                program == "Closure" and ( i == 110 or i == 117 or i == 118 or i == 120 or i == 125 or i == 129)):
            continue


        print(program,i)
        #cp=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]
        #cp(chart)= [0.5, 0.1, 1, 0.5, 0.55, 0.5, 0.4, 1, 1, 1, 1, 0.5,1, 0.4, 0.5, 0.6, 1, 0.1, 0.5, 1, 0.5, 0.25, 0.005, 1, 0.4, 0.5]
        #cp(lang)=[1, 1, 1, 0.9, 0.5, 0.5, 0.95, 0.9, 0.5, 0.65, 1, 1, 0.5,
        #     1, 0.9, 1, 0.85, 0.5, 0.65, 1, 1, 0.7, 0.5, 1, 0.8, 1,
        #     1, 1, 1, 0.55, 1, 1, 1, 0.55, 0.55, 1, 1, 1, 1,
        #     1, 1, 0.75, 1, 1, 1, 1, 1, 0.85, 1, 0.5, 1, 1,
        #     0.5, 1, 1, 0.5, 1, 1, 1, 0.6, 1, 0.5, 1, 1, 0.65]
        #cp(Math)=[0.75, 0.75, 1, 0.9, 1, 0.5, 0.6, 1, 1, 1, 1, 0.55, 0.85,0.55,1,
        #     0.65,0.65,0.7, 0.5, 0.5, 0.7, 1,1, 0.6, 1, 0.8, 1, 1, 0.7, 1, 0.5,
        #     1, 1, 1, 1, 0.5, 0.95, 0.6, 1, 0.85, 1, 0.95, 0.75, 0.5, 1, 0.55, 0.95,
        #     0.95,0.85,1, 0.5, 0.9, 1, 0.95, 1, 1, 1, 0.95, 1, 0.8, 1, 1, 1, 0.5, 0.6,
        #     0.5, 0.5, 0.6, 1, 1, 0.55, 0.6, 1, 1, 1, 0.6, 1, 0.6, 0.6, 1, 0.7, 1, 0.95,
        #     0.85, 1, 1, 0.9, 1, 0.6, 1, 1, 1, 1, 1, 1, 1, 0.65, 1,1, 0.8, 1, 1, 0.5, 0.8, 1, 0.95]
        cp= [1, 0.5, 0.85, 0.1, 0.7, 1, 0.05, 0.75, 0.5, 0.3, 0.01, 0.5, 0.5, 0.7,
                0.1, 0.1, 0.65, 0.65, 0.5, 0.4, 1, 0.05, 1, 0.7, 1, 0.55, 0.75, 0.5, 0.1, 0.5,
                0.5, 0.8, 0.8, 0.5, 0.95, 0.5,0.5,0.5]
        #cp(time)= [0.9, 0.5, 0.5, 0.5, 0.5, 0.05, 1, 0.5, 0.75, 0.2, 0.15, 0.4, 0.85, 1, 1, 1, 1, 0.7,
        #      0.05, 0.3, 0.55, 0.6, 1, 0.1, 0.3, 0.1, 0.3]
        #cp(Cloure) =  [1.0, 0.65, 0.5, 1.0, 1.0, 0.7, 1.0, 1.0, 1.0, 0.3,
        #                0.5, 0.5, 0.65, 0.7, 0.5, 1.0, 1.0, 0.5, 1.0, 0.75,
        #                0.8, 0.85, 0.55, 1.0, 0.3, 0.5, 0.5, 0.5, 0.5, 0.5,
        #                0.5, 0.75, 0.5, 0.85, 0.5, 0.3, 0.5, 0.3, 0.65, 1.0,
        #                1.0, 0.5, 1.0, 0.5, 0.3, 0.5, 0.5, 0.5, 0.4, 0.9,

        #                0.5, 0.5, 0.5, 0.5, 0.3, 0.3, 0.3, 0.95, 0.3, 0.35,
        #                0.5, 1.0, 1.0, 0.5, 0.9, 0.5, 0.5, 0.5, 1.0, 1.0,
        #                0.7, 0.5, 0.35, 0.5, 0.5, 0.5, 0.3, 0.95, 0.7, 0.5,
        #                0.5, 0.3, 1.0, 0.5, 0.8, 0.65, 0.3, 0.65, 0.5, 0.3,
        #                0.5, 1.0, 0.5, 0.35, 1.0, 0.6, 0.8, 0.5, 0.55, 0.55,

        #                0.75, 0.3, 0.5, 0.75, 0.5, 0.65, 1.0, 0.5, 0.5, 1,
        #                1.0, 1.0, 0.75, 1.0, 0.5, 1.0,  1, 1, 1.0, 1,
        #                0.5, 0.5, 0.5, 0.5, 1, 0.8, 0.5, 0.6,      1,  0.5,
        #                0.3, 0.5, 1.0]


        command = f"/opt/anaconda3/bin/python3.9 run.py -d d4j -p {program} -i {i} -m {method_para} -e fs_cvae -ep {cp[i - 1]} -cp {cp[i - 1]}"
        #command = f"/opt/anaconda3/bin/python3.9 run.py -d manybugs -p {program} -i {i} -m {method_para} -e lda_smote -ep {cp[i - 1]} -cp {cp[i - 1]}"
        os.system(command)
